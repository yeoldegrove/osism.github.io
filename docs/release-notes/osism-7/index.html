<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-release-notes/osism-7" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">OSISM 7 | OSISM – Sovereign Cloud Infrastructure</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://osism.tech/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://osism.tech/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://osism.tech/docs/release-notes/osism-7"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OSISM 7 | OSISM – Sovereign Cloud Infrastructure"><meta data-rh="true" name="description" content="Instructions for the upgrade can be found in the Upgrade Guide."><meta data-rh="true" property="og:description" content="Instructions for the upgrade can be found in the Upgrade Guide."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://osism.tech/docs/release-notes/osism-7"><link data-rh="true" rel="alternate" href="https://osism.tech/docs/release-notes/osism-7" hreflang="en"><link data-rh="true" rel="alternate" href="https://osism.tech/de/docs/release-notes/osism-7" hreflang="de"><link data-rh="true" rel="alternate" href="https://osism.tech/docs/release-notes/osism-7" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OSISM – Sovereign Cloud Infrastructure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OSISM – Sovereign Cloud Infrastructure Atom Feed"><link rel="stylesheet" href="/assets/css/styles.ca928f80.css">
<script src="/assets/js/runtime~main.fa00f83f.js" defer="defer"></script>
<script src="/assets/js/main.6d934c8d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="OSISM Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="OSISM Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/users">Users</a><a class="navbar__item navbar__link" href="/blog">Blog</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/release-notes/osism-7" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/de/docs/release-notes/osism-7" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://regiocloud.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">REGIO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://scs.community" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sovereign Cloud Stack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="mailto:info@osism.tech?subject=OSISM Demo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Schedule a demo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/guides/">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/references/">References</a><button aria-label="Expand sidebar category &#x27;References&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/release-notes/">Release Notes</a><button aria-label="Collapse sidebar category &#x27;Release Notes&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/release-notes/osism-7">OSISM 7</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/appendix/">Appendix</a><button aria-label="Expand sidebar category &#x27;Appendix&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/release-notes/"><span itemprop="name">Release Notes</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">OSISM 7</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>OSISM 7</h1>
<p>Instructions for the upgrade can be found in the <a href="/docs/guides/upgrade-guide/manager">Upgrade Guide</a>.</p>
<p>The release notes build on each other. When upgrading from 6.0.2 to 7.0.4, you should
therefore not only read and take into account the release notes for 7.0.4 but also the
previous release notes. The same applies to an update from, for example, 7.0.2 to 7.0.4.
The release notes for 7.0.3 must then also be taken into account.</p>
<table><thead><tr><th style="text-align:left">Release</th><th style="text-align:left">Release Date</th></tr></thead><tbody><tr><td style="text-align:left"><a href="#705-20240524">7.0.5</a></td><td style="text-align:left">24. May 2024</td></tr><tr><td style="text-align:left"><a href="#704-20240507">7.0.4</a></td><td style="text-align:left">7. May 2024</td></tr><tr><td style="text-align:left"><a href="#703-20240503">7.0.3</a></td><td style="text-align:left">3. May 2024</td></tr><tr><td style="text-align:left"><a href="#702-20240407">7.0.2</a></td><td style="text-align:left">17. April 2024</td></tr><tr><td style="text-align:left"><a href="#701-20240327">7.0.1</a></td><td style="text-align:left">27. March 2024</td></tr><tr><td style="text-align:left"><a href="#700-20240320">7.0.0</a></td><td style="text-align:left">20. March 2024</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>7.0.0a, 7.0.0b, 7.0.0c, 7.0.0d are pre-releases. Do not use these releases.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="705-20240524">7.0.5 (20240524)<a href="#705-20240524" class="hash-link" aria-label="Direct link to 7.0.5 (20240524)" title="Direct link to 7.0.5 (20240524)">​</a></h2>
<p>Release date: 24. May 2024</p>
<ul>
<li>
<p>The Ceph service images have not been rebuilt. No upgrade of Ceph is required.</p>
</li>
<li>
<p>The OpenStack service images have not been rebuilt. No upgrade of OpenStack is required.</p>
</li>
<li>
<p>Bugfixes in the osism.commons.network role.</p>
<ul>
<li>When extending the role for CentOS and RHEL, a bug was introduced that prevented existing
Netplan files from being deleted on Ubuntu. This has been fixed.</li>
</ul>
</li>
<li>
<p>Bugfixes in the osism.services.netdata role.</p>
<ul>
<li>The repositories used were changed from Packagecloud to the repositories offered by the
Netdata project itself. In this way, unresolvable package dependencies on Ubuntu 22.04 are
now resolved.</li>
</ul>
</li>
<li>
<p>New features in the osism.services.manager role.</p>
<ul>
<li>
<p>The use of the Netbox as the primary inventory is now optional, even with existing Netbox
integration. It is therefore important to set the parameter <code>manager_inventory_from_netbox</code>
to <code>true</code> before updating the manager service if the Netbox was previously used as the
primary inventory. By default, the Netbox is not longer used as the primary inventory.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">manager_inventory_from_netbox</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p>New features in the osism.services.docker role.</p>
<ul>
<li>
<p>With the <code>docker_throttle_restart</code> parameter it&#x27;s possible to
<a href="https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_strategies.html#restricting-execution-with-throttle" target="_blank" rel="noopener noreferrer">throttle the service restarts</a>.
By default service restarts will not be throttled.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">docker_throttle_restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>With the <code>docker_wait_after_restart</code> it is possible to wait <code>docker_wait_after_restart_seconds</code>
seconds (60 seconds by default) after the restart of the Docker service. By default it will
not be waited after the restart of the Docker service.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">docker_wait_after_restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">docker_wait_after_restart_seconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p>New features in the osism.services.traefik role.</p>
<ul>
<li>
<p>With the <code>traefik_configuration_extra</code> parameter it&#x27;s possible to add
extra configuration to the Traefik service.</p>
</li>
<li>
<p>With the <code>traefik_extra_ports</code> parameter it&#x27;s possible to manage additional
ports with traefik. E.g. to manage port 5000 and port 8774:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">traefik_extra_ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8774</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>With the <code>traefik_configuration_dynamic</code> parameter it&#x27;s possible to
define additional services via the file provider.</p>
<p>This will add a router that routes all requests on
<code>api-81-163-192-117.traefik.me</code> to the service-horizon service.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">traefik_configuration_dyanmic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tcp</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">service-horizon</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">loadBalancer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">servers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">address</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;192.168.16.254:443&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">routers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">router-horizon</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">rule</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;HostSNI(`api-81-163-192-117.traefik.me`)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> service</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">horizon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">entryPoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> https</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">passthrough</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
</li>
<li>
<p>New features in the osism.commons.operator role.</p>
<ul>
<li>
<p>With the <code>operator_authorized_keys_delete</code> parameter it&#x27;s possible to delete authorized keys
from the authorized key files of the operator user account. This is the counterpart to
the <code>operator_authorized_keys</code> parameter.</p>
</li>
<li>
<p>With the <code>operator_authorized_github_accounts_delete</code> parameter it&#x27;s possible to delete
all authorized keys from a list of GitHub accounts from the authorized key files of the operator
user account.  This is the counterpart to the <code>operator_authorized_github_accounts</code> parameter.</p>
</li>
</ul>
</li>
<li>
<p>New features in the osism.commons.known_hosts role.</p>
<ul>
<li>With the <code>known_hosts_delete</code> parameter it&#x27;s possible to delete known hosts entries from the
known hosts file of the operator user account. This is the counterpart to the <code>known_hosts</code>
and <code>known_hosts_extra</code> parameters.</li>
</ul>
</li>
<li>
<p>New features in the osism.commons.user role.</p>
<ul>
<li>With the <code>user_sudoers</code> parameter it&#x27;s possible to change the content of the user sudoers file.
The default is <code>ALL=(ALL:ALL) NOPASSWD: ALL</code>.</li>
</ul>
</li>
<li>
<p>New features in the osism.commons.proxy role.</p>
<ul>
<li>Proxy settings are now removed when no proxy setings are set with the <code>proxy_proxies</code> parameter.</li>
</ul>
</li>
<li>
<p>New playbooks and changes in the existing playbooks.</p>
<ul>
<li>
<p>The <code>ensure-no-instances</code> ensures that no instances are defined in Libvirt and that no qemu
processes are running. This can be used in preparation for maintenance work on compute nodes.
In the future, the play will also take care of moving running or assigned instances from a
compute node with the help of the OSISM Resource Manager.</p>
</li>
<li>
<p>With the <code>loadbalancer-without-service-config</code> play it&#x27;s possible to manage the loadbalancer service
without including all the OpenStack service roles. This makes it possible to do a loadbalancer container
image upgrade pretty fast and also enables the deployment of multiple loadbalancers with separate
configurations by using the sub environments.</p>
</li>
<li>
<p>The <code>osism.commons.sshconfig</code> role and the <code>osism.commons.certificates</code> role are now also run in
the bootstrap play of the Manager.</p>
</li>
<li>
<p>With the <code>k3s-upgrade</code> play it is possible to upgrade the internal K3s Kubernetes cluster.</p>
</li>
</ul>
</li>
<li>
<p>New documentation.</p>
<ul>
<li>
<p>The documentation for the
<a href="https://osism.tech/docs/guides/configuration-guide/configuration-repository" target="_blank" rel="noopener noreferrer">initial creation of a configuration repository using Cookiecutter</a>
has been completely revised. In the Cookiecutter itself, notes have been added in many places to simplify
the initial reworking of the created configuration repository.</p>
</li>
<li>
<p>Documentation for the <a href="https://osism.tech/docs/guides/configuration-guide/loadbalancer#second-loadbalancer" target="_blank" rel="noopener noreferrer">deployment of a second loadbalancer</a> has been added.</p>
</li>
</ul>
</li>
<li>
<p>Changes in the Testbed.</p>
<ul>
<li>
<p>It is now possible to provide the OpenStack APIs and the OpenStack Dashboard via a public IP address
with a public DNS record including Letsencrypt certificate via a customisation external-api via the
manager node.</p>
</li>
<li>
<p>Ansible, which is required to initially deploy the Manager, is now installed in a virtual environment.
This means that it is now also possible to use Ubuntu 24.04 as the operating system for the nodes.</p>
</li>
</ul>
</li>
<li>
<p>The CLI of the <a href="https://github.com/osism/openstack-simple-stress" target="_blank" rel="noopener noreferrer">Simple Stress tool</a> has been changed
to <a href="https://typer.tiangolo.com" target="_blank" rel="noopener noreferrer">Typer</a>. Units tests for improving code quality have been added.</p>
</li>
<li>
<p>New Kubernetes CAPI images for the Kubernetes serias 1.27, 1.28, 1.29, and 1.30 are available.</p>
</li>
<li>
<p>To avoid confusion, <code>rolling-upgrade</code> has been removed as a supported action for the <code>osism apply</code>
command. The <code>upgrade</code> action should always and exclusively be used.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="704-20240507">7.0.4 (20240507)<a href="#704-20240507" class="hash-link" aria-label="Direct link to 7.0.4 (20240507)" title="Direct link to 7.0.4 (20240507)">​</a></h2>
<p>Release date: 7. May 2024</p>
<p>Due to an error in <code>osism/sbom</code> repository, the Nova and Octavia images were not updated as
originally stated in the release notes for OSISM 7.0.3. Therefore it was unfortunately necessary
to release a 7.0.4 which contains the correct SBOM. In 7.0.4 nothing has changed except the SBOM.
The correct images for Nova and Octavia are now included in 7.0.4 and the bugs listed below have
been fixed. An update of the Manager Service must be done and then, if required, an update of Nova
and Octavia can be updated as originally planned for OSISM 7.0.3. We apologise for the mistake and
the resulting effort.</p>
<ul>
<li>
<p>The OpenStack service images for Octavia and Nova have been rebuilt. Upgrades of the Octavia
and Nova services are recommended. No upgrades of other OpenStack and associated
infrastructure services such as MariaDB or RabbitMQ are required.</p>
<ul>
<li>
<p>The Nova images have been rebuilt to add packages to be able to use vTMP (<a href="https://github.com/osism/issues/issues/1008" target="_blank" rel="noopener noreferrer">osism/issues#1008</a>)
If this is not relevant, the upgrade can be skipped.</p>
</li>
<li>
<p>The octavia images have been rebuilt to resolve an issue when creating a LB + a listener
with an allowed_cidr with the fully-populated API (<a href="https://github.com/osism/issues/issues/980" target="_blank" rel="noopener noreferrer">osism/issues#980</a>)</p>
</li>
<li>
<p>When upgrading the Nova and Octavia API services, there is a short downtime of the APIs.
This downtime is usually less than 1 minute.</p>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="703-20240503">7.0.3 (20240503)<a href="#703-20240503" class="hash-link" aria-label="Direct link to 7.0.3 (20240503)" title="Direct link to 7.0.3 (20240503)">​</a></h2>
<p><strong>Release date: 3. May 2024</strong></p>
<ul>
<li>
<p>The Ceph service images have not been rebuilt. No upgrade of Ceph is required.</p>
</li>
<li>
<p>The OpenStack service images have not been rebuilt. No upgrade of OpenStack is required.</p>
</li>
<li>
<p>During the preparation of the upgrades of the regions of the PCO a bug (<a href="https://github.com/osism/issues/issues/973" target="_blank" rel="noopener noreferrer">osism/issues#973</a>)
has been noticed which leads to a delay of up to 2 minutes between the necessary container stops and starts.
This is due to a bug in the service units of all Kolla services. The bug is fixed in the current release.
<strong>To avoid the delay during an upgrade, a fix must be applied in advance for all service units from
Kolla.</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">osism apply fix-gh973</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>The Kubernetes Cluster API image for the Kubernetes (K8s) 1.30 series is available. The images are now provided directly with
<code>osism manage image clusterapi</code>. This means that K8s Cluster API images are now available
for K8s series 1.27, 1.28, 1.29 and 1.30.</p>
</li>
<li>
<p>All Ansible collections have been prepared for use with Ubuntu 24.04. It is currently not recommended to
upgrade existing clusters to Ubuntu 24.04 or to install new clusters with Ubuntu 24.04. There will be a note
in future release notes that announces the full support of Ubuntu 24.04. At the moment everything related to Ubuntu
24.04 is a technical preview.</p>
</li>
<li>
<p>A new role <code>tempest</code> has been added to the Ansible collection <code>osism.validations</code>. This makes it possible
to perform significantly more tests than with the previously used <code>osism.validations.refstack</code> role. The new
role will be used in the testbed in future to significantly increase the number of tests performed in the CI.</p>
</li>
<li>
<p>New documentation for the <a href="https://osism.tech/docs/guides/operations-guide/openstack/tools/project-manager" target="_blank" rel="noopener noreferrer">project manager</a>
and the <a href="https://osism.tech/docs/guides/operations-guide/openstack/tools/simple-stress" target="_blank" rel="noopener noreferrer">simple stress</a>.</p>
</li>
<li>
<p>When using the reboot play, it is now possible to wait for the reboot to be completed (<a href="https://github.com/osism/issues/issues/758" target="_blank" rel="noopener noreferrer">osism/issues#758</a>).</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">osism apply reboot \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e reboot_wait=yes \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  -e ireallymeanit=yes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Monitoring services are now activated by default for the internal Kubernetes cluster.</p>
</li>
<li>
<p>The <code>openstack_cacert</code> parameter used by Kolla is now set to <code>&quot;/etc/ssl/certs/ca-certificates.crt&quot;</code>
by default. The previous default was <code>&quot;&quot;</code>. If this is not wanted, the parameter must be overwritten in
<code>environments/kolla/configuration.yml</code>.</p>
</li>
<li>
<p>The <code>ironic_agent_files_directory</code> parameter used by Kolla is now set to <code>/share/ironic</code> by default.
The previous default was <code>&quot;{{ node_custom_config }}&quot;</code>. If this is not wanted, the parameter must be overwritten
in <code>environments/kolla/configuration.yml</code>. This is in preparation for the Ironic IPA images no longer being
stored in the configuration repository but within the manager service at runtime.</p>
</li>
<li>
<p>The Ironic IPA images are now downloaded from ironic play by default. If this is not wanted,
<code>enable_ironic_agent_download_images: false</code> must be set in <code>environments/kolla/configuration.yml</code>.
The Ironic IPA images can now also be downloaded independently of the ironic play with <code>osism apply ironic-download-ipa-images</code>.</p>
</li>
<li>
<p>The <code>ceph_cluster_fsid</code> parameter is now generated automatically. It can be removed from <code>environments/configuration.yml</code>.
The automatically generated <code>ceph_clusterfs_fsid</code> parameter is set to the value of the <code>fsid</code>
parameter from <code>environments/ceph/configuration.yml</code>.</p>
</li>
<li>
<p>You can now use your own hook scripts in <code>osism/cfg-cookiecutter</code>. These are placed in the directory
<code>{{cookiecutter.project_name}}/scripts.d/</code> directory. The scripts are executed in alphabetical order.
The scripts must be executable.</p>
</li>
<li>
<p>Versions not yet pinned in the manager environment of the configuration repository (Ansible collections, <code>osism/cfg-generics</code>, ..)
are now automatically pinned during synchronisation with <code>gilt overlay</code>. This also applies to the
<code>osism update manager</code> script.</p>
</li>
<li>
<p>The Docker version and the Docker CLI version can now also be managed via <code>osism/cfg-generics</code>.
It is recommended to pin the Docker version in <code>environments/configuration.yml</code>.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">docker_version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;5:24.0.9&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>When using the single service plays for Ceph (<code>ceph-osds</code>, <code>ceph-mons</code>, ..), no service restarts
are executed for other services. This can be adjusted with the <code>ceph_handler_*_restart</code> parameters.
The default value is <code>false</code>.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_crash_restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_mdss_restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_mgrs_restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_mons_restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_osds_restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_rbdmirrors_restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_rgws_restart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The following example now makes it possible when adding new OSDs to really only start the OSDs that
have been newly added and to avoid a restart of all OSDs in the cluster or on a node.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">osism apply ceph-osds -e ceph_handler_osds_restart=False</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>The restart of Ceph Services is now throttled. By default, only one Ceph service is restarted at a time.
This can be adjusted with the <code>ceph_handler_*_restart_throttle</code> parameters. The default value is <code>1</code>.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_crash_restart_throttle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_mdss_restart_throttle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_mgrs_restart_throttle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_mons_restart_throttle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_osds_restart_throttle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_rbdmirrors_restart_throttle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ceph_handler_rgws_restart_throttle</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>OVN container images will be built without the <code>-march=broadwell</code> parameter in the future. The OVN
images have not been updated with this release, this only serves as an announcement for the future. By
removing the parameter, it is possible to use the OVN container images on older CPUs. It is planned to
provide different variants of the OVN and OVS container images in the future to enable parameters for
modern CPUs in order to improve performance in particular.</p>
</li>
<li>
<p>This has nothing to do with the release itself and is just a notice. The build of the OpenStack Zed images has been
disabled.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="702-20240407">7.0.2 (20240407)<a href="#702-20240407" class="hash-link" aria-label="Direct link to 7.0.2 (20240407)" title="Direct link to 7.0.2 (20240407)">​</a></h2>
<p><strong>Release date: 17. April 2024</strong></p>
<ul>
<li>
<p>The Ceph &amp; OpenStack service images have not been rebuilt. No upgrades of Ceph &amp; OpenStack and associated
infrastructure services such as MariaDB or RabbitMQ are required.</p>
</li>
<li>
<p>Properties for device type <code>vrfs</code> are now supported in the <code>osism.commons.network</code> role.</p>
</li>
<li>
<p>Debian support in <code>osism.commons</code> &amp; <code>osism.services</code> Ansible collection.</p>
<ul>
<li>The roles of the <code>osism.commons</code> collection are now usable with Debian. The roles have been tested with Debian Bookworm.</li>
<li>The roles of the <code>osism.services</code> collection are now usable with Debian. The roles have been tested with Debian Bookworm.</li>
</ul>
</li>
<li>
<p>If the OSISM CLI is executed as root user there is now an informal warning message.</p>
</li>
<li>
<p>Use a single network for Ceph frontend &amp; backend in the cookiecutter. More information in the
<a href="https://docs.ceph.com/en/latest/rados/configuration/network-config-ref/" target="_blank" rel="noopener noreferrer">Ceph network configuration reference</a>.</p>
</li>
<li>
<p>When synchronising the configuration repository, it is now ensured that you are on the correct branch.</p>
</li>
<li>
<p>Senlin images available again as rolling tag for OpenStack 2023.2.</p>
</li>
<li>
<p>Zun images available again as rolling tag for OpenStack 2023.2 &amp; 2024.1.</p>
</li>
<li>
<p>New FRR configuration template for loadbalancers with an external uplink in the osism.services.frr role.</p>
</li>
<li>
<p><code>scs:name-v1</code> and <code>scs:name-v2</code> extra specs are now set via the OpenStack flavor manager.</p>
</li>
<li>
<p>Task ID is now displayed in the output of the OSISM CLI for prepared tasks.</p>
</li>
<li>
<p>New Makefile target in the OSISM Testbed to fetch the Wireguard configuration file: <code>vpn-wireguard-config</code>.</p>
</li>
<li>
<p>With the play <code>noop</code> it is now possible to run a play with noop. This is useful for testing purposes of the manager service.</p>
</li>
<li>
<p>The stable repository is now used as the default for the Netdata service in the <code>osism.services.netdata</code> role. This avoids
package conflicts in future.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="701-20240327">7.0.1 (20240327)<a href="#701-20240327" class="hash-link" aria-label="Direct link to 7.0.1 (20240327)" title="Direct link to 7.0.1 (20240327)">​</a></h2>
<p><strong>Release date: 27. March 2024</strong></p>
<ul>
<li>
<p>It&#x27;s now possible to also use custom plays in the <code>kolla</code> and in the <code>ceph</code> environments.
As for the other environments, custom plays can now be stored there in a e.g. <code>playbook-hello-world.yml</code>
file and run by using e.g. <code>osism apply -e kolla hello-world</code>.</p>
</li>
<li>
<p>The version of k3s has been updated to <code>1.29.2</code>. If Kubernetes is used, upgrade with
<code>osism apply kubernetes</code>.</p>
</li>
<li>
<p>There is a new parameter <code>ceph_custom_keys</code> in the <code>copy-ceph-keys</code> play. This makes
it possible to copy the keys from custom Ceph pools.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">ceph_custom_keys</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">src</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ceph.client.manila1.keyring</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">dest</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{ configuration_directory }}/environments/kolla/files/overlays/manila/ceph.client.manila1.keyring&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>There is a new parameter <code>with_keycloak</code> in the cookiecutter. This can now be used to
select whether the keycloak integration should be prepared or not.</p>
</li>
<li>
<p>An error in the <code>ceph-pools</code> play has been fixed that prevented the keys from being
created for the pools.</p>
</li>
<li>
<p>The <code>ceph-iscsigws</code> play has been removed. The iSCSI gateway is in maintenance as of
November 2022. This means that it is no longer in active development and will not be
updated to add new features.</p>
</li>
<li>
<p>With <code>ceph_serial</code> it is now possible to define how many hosts Ansible should manage at a single time
in the Ceph plays.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">osism apply ceph-mgrs -e ceph_serial=1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>With <code>ANSIBLE_VERSION</code> it&#x27;s now possible to overwrite the use Ansible version when working with the <code>run.sh</code>
script inside the manager environment.</p>
</li>
<li>
<p>The <code>osism.commons.known_hosts</code> role has been completely revised.</p>
<ul>
<li>
<p>avoid duplicate entries in the destination file</p>
</li>
<li>
<p>avoid comments in the destination file</p>
</li>
<li>
<p>make use of static entries possible</p>
<p>It&#x27;s now possible to add a <code>known_hosts</code> parameter to the host_vars to
set static known hosts entries for a specific host. When this parameter
is set <code>ssh-keygen</code> will not be used to generate the known hosts entries
on the fly.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">known_hosts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ssh</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rsa AAAAB3NzaC1y</span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ecdsa</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sha2</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">nistp256 AAAAE2VjZHN</span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ssh</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ed25519 AAAAC3NzaC1</span><span class="token punctuation" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>make use of extra entries possible</p>
<p>It&#x27;s now possible to add a <code>known_hosts_extra</code> parameter to the configuration
repository to set extra known hosts entries.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">known_hosts_extra</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> testbed</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">1.testbed.osism.xyz ssh</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rsa AAAAB3Nza</span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> testbed</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">2.testbed.osism.xyz ssh</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rsa AAAAB3Nza</span><span class="token punctuation" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>The Octavia images have been updated. If Octavia is used, an upgrade must be done
with <code>osism apply -a upgrade octavia</code>. We addressed the following issues.</p>
<ul>
<li>
<p>Backport of <a href="https://review.opendev.org/c/openstack/octavia/+/896995" target="_blank" rel="noopener noreferrer">openstack/octavia#896995</a> to fix errors
when deleting LB with broken amphorae.</p>
</li>
<li>
<p>Bugfix for <a href="https://github.com/osism/issues/issues/890" target="_blank" rel="noopener noreferrer">osism/issues#890</a> (Octavia (OVN) does
not find existing subnet) by enabling the use of the custom CA for octavia
user session queries with the following PR:
<a href="https://github.com/osism/container-images-kolla/pull/412" target="_blank" rel="noopener noreferrer">osism/container-images-kolla#412</a></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="700-20240320">7.0.0 (20240320)<a href="#700-20240320" class="hash-link" aria-label="Direct link to 7.0.0 (20240320)" title="Direct link to 7.0.0 (20240320)">​</a></h2>
<p><strong>Release date: 20. March 2024</strong></p>
<ul>
<li>Shortly before the release, <a href="https://github.com/retr0h/gilt" target="_blank" rel="noopener noreferrer">gilt</a>
made a major release which led to breaking changes. It is therefore important
for the moment to install <code>python-gilt &lt; 2</code> when synchronising the
configuration repository against the generics. In the CI and within the container
images, we currently use <code>python-gilt == 1.2.3</code>. This is also the version that&#x27;s
currently installed in the container images and that&#x27;s set in the <code>requirements.txt</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removals--deprecations">Removals &amp; Deprecations<a href="#removals--deprecations" class="hash-link" aria-label="Direct link to Removals &amp; Deprecations" title="Direct link to Removals &amp; Deprecations">​</a></h3>
<ul>
<li>
<p>The role <code>osism.services.tang</code> for deploying the Tang service is deprecated in preparation for removal
as it is currently not in a usable state. An attempt will be made to make the role usable until the next
release. The same applies to Clevis integration via the <code>osism.commons.clevis</code> role.</p>
</li>
<li>
<p>The role <code>osism.services.openldap</code> for deploying the OpenLDAP service  has been removed.</p>
</li>
<li>
<p>The manager plays to control the Vault service (<code>seal</code>, <code>unseal</code>, ..) have been removed as these tasks will
be realized directly via the OSISM CLI (<code>osism set vault password</code>, ..) in the future.</p>
</li>
<li>
<p>The role <code>osism.services.bird</code> for deploying the Bird service has been removed.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features">New features<a href="#new-features" class="hash-link" aria-label="Direct link to New features" title="Direct link to New features">​</a></h3>
<ul>
<li>
<p>With the <code>osism manage image octavia</code> command it is possible to rotate the Octavia Amphora image,
which is rebuilt daily. Older images are deactivated. The old images must be removed manually after
rotating the amphorae instances.</p>
</li>
<li>
<p>With the <code>osism manage image clusterapi</code> command it is possible to import all currently stable Cluster
API images (v1.27, v1.28, and v1.29). As soon as new minor or major versions are available, these are also
imported. Old and no longer used versions must currently be removed manually.</p>
</li>
<li>
<p>The persistence feature in Octavia can enabled with the new <code>enable_octavia_jobboard</code> parameter.
The jobboard in Octavia is an <a href="https://docs.openstack.org/octavia/latest/install/install-amphorav2.html" target="_blank" rel="noopener noreferrer">experimental feature</a>.
It is not recommended to use it in production.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/kolla/configuration.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">enable_octavia_jobboard</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;yes&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This requires an additional database, which is only created when Octavia play is run in bootstrap mode
first.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">osism apply -a bootstrap octavia</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The secret <code>octavia_persistence_database_password</code> must be added to
<code>environments/kolla/secrets.yml</code> before.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/kolla/secrets.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">octavia_persistence_database_password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># generate with: pwgen 32 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>In preparation for the migration to Rook, the Rook operator is deployable on the internal Kubernetes
cluster with <code>osism apply rook</code>. The Rook operator is not yet used for the Ceph deployment. For the deployment
of Ceph we still use the ceph-ansible project. For the next release a tool called <a href="https://github.com/sovereigncloudstack/rookify" target="_blank" rel="noopener noreferrer">rookify</a> is planned to
migrate the Ceph deployment from ceph-ansible to Rook.</p>
</li>
<li>
<p>CentOS 9 support in <code>osism.commons`` &amp; </code>osism.services`` Ansible collection.</p>
<ul>
<li>The roles of the `osism.commons`` collection are now usable with CentOS 9. The roles have been tested with
CentOS 9.</li>
<li>The roles of the `osism.services`` collection are now usable with CentOS 9. The roles have been tested with
CentOS 9.</li>
</ul>
</li>
<li>
<p>With the <a href="https://github.com/osism/openstack-resource-manager" target="_blank" rel="noopener noreferrer">openstack-resource-manager</a> it is now possible to
clean up orphaned amphora instances of Octavia or volumes that are stuck in the <code>DELETING</code> state.</p>
</li>
<li>
<p>Kubernetes can now be deployed with <a href="https://github.com/k3s-io/k3s-ansible" target="_blank" rel="noopener noreferrer">k3s-ansible</a> on the management plane and the control plane.</p>
</li>
<li>
<p>It is now possible to manage the Ceph pools independently of <code>ceph-osds`` play using the </code>ceph-pools` play.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-notes">Upgrade notes<a href="#upgrade-notes" class="hash-link" aria-label="Direct link to Upgrade notes" title="Direct link to Upgrade notes">​</a></h3>
<ul>
<li>
<p>The switch from classic queue mirroring and durable queues to quorum queues
in RabbitMQ has not yet been tested and documented. This is planned for the
next release. The switch is not yet recommended.</p>
</li>
<li>
<p>The <code>hosts_interface</code> parameter is now set to <code>internal_interface</code> by default.</p>
</li>
<li>
<p>The Keycloak deployment via Docker Compose, which was previously included
as a technical preview, has been completely revised and is now deployed on
Kubernetes. No migration from the old deployment via Docker Compose to the
new deployment via Kubernetes has been prepared. If you are currently using
the Keycloak service, do not upgrade the Keycloak service and contact us in
advance.</p>
</li>
<li>
<p>The Keystone role <code>service</code> is required by a number of OpenStack services. The
role has been created automatically with new deployments for some time now. It is
possible that this role is not yet available on older deployments and must be created
once in preparation for the upgrade. You can check whether the role is available in
the output of <code>openstack --os-cloud admin role list</code>. If it does not exist, it can
be created with <code>openstack --os-cloud admin role create service</code>.</p>
<p>This <code>service</code> role is required by the service accounts for authentication after the
upgrade of the OpenStack services. To avoid problems during the upgrade, it is important
to assign this role to all existing service accounts in advance.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># List all users in the project service with the admin role. The existing service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># accounts depend on the deployed services and may vary.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack --os-cloud admin role assignment list --names --role admin --project service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+--------------------------+-------+-----------------+--------+--------+-----------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| Role  | User                     | Group | Project         | Domain | System | Inherited |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+--------------------------+-------+-----------------+--------+--------+-----------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | ironic@Default           |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | neutron@Default          |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | gnocchi@Default          |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | swift@Default            |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | nova@Default             |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | placement@Default        |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | cinder@Default           |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | glance@Default           |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | designate@Default        |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | octavia@Default          |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | skyline@Default          |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | ironic-inspector@Default |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| admin | ceilometer@Default       |       | service@Default |        |        | False     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+--------------------------+-------+-----------------+--------+--------+-----------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Assign the service role to all users in the project service (repeat this step for every</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># user in the list.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ openstack --os-cloud admin role add --user ironic --project service service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[...]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>The use of ProxySQL for MariaDB is now possible and it is possible to switch
to it as part of the upgrade. It is not mandatory and there is no recommendation.
The parameter <code>enable_proxysql</code> is added to <code>environments/kolla/configuration.yml</code>
for this purpose.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/kolla/configuration.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">enable_proxysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The secrets listed below (<code>proxysql_admin_password</code>, <code>proxysql_stats_password</code>,
<code>mariadb_monitor_password</code>) must also be added or changed.</p>
<p>When migrating to ProxySQL, it is important to upgrade MariaDB first.</p>
<p>When migrating to ProxySQL, it is important to perform the loadbalancer upgrade
before all OpenStack service upgrades. To make sure that the OpenStack services
continue to work after the upgrade when ProxySQL is enabled as part of the upgrade,
the ProxySQL service must have been deployed first. The ProxySQL service is deployed
with the loadbalancer play.</p>
<p>It is possible that connectivity with the database may be interrupted for a short time
during the migration. It is therefore recommended to carry out extensive tests on the
staging environment in advance.</p>
</li>
<li>
<p>The following secrets must be added in <code>environments/kolla/secrets.yml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/kolla/secrets.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">octavia_persistence_database_password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># generate with: pwgen 32 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">prometheus_bcrypt_salt</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                 </span><span class="token comment" style="color:#999988;font-style:italic"># generate with: pwgen 22 1 &lt;-- there&#x27;s a 22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">prometheus_grafana_password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># generate with: pwgen 32 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">prometheus_password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic"># generate with: pwgen 32 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">proxysql_admin_password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># generate with: pwgen 32 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">proxysql_stats_password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic"># generate with: pwgen 32 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>The parameter <code>mariadb_monitoring_password</code> in <code>environments/kolla/secrets.yml</code>
has to be renamed to <code>mariadb_monitor_password</code>. If the parameter is not present,
it is added.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/kolla/secrets.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">mariadb_monitor_password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">     </span><span class="token comment" style="color:#999988;font-style:italic"># generate with: pwgen 32 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>The following parameters must be removed from the configuration repository from
<code>environments/kolla/configuration.yml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/kolla/configuration.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">ceph_nova_user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nova</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">ceph_nova_keyring</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ceph.client.nova.keyring</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Parameters for the Netbox service in <code>environments/infrastructure/configuration.yml</code> or
<code>secrets.yml</code> must now also be added in <code>environments/manager/configuration.yml</code> or
<code>secrets.yml</code>. In an upcoming  release, the parameters can be removed from the
infrastructure environment.</p>
</li>
<li>
<p>The Ansible callback plugin <code>osism.commons.still_alive</code> is now available to avoid timeouts
for long-running tasks. This currently has to be explicitly enabled in the Ansible configuration.
This is done in the <code>environments/ansible.cfg</code> file in the configuration repository.
The callback plugin is enabled by default in the future. After this change has been made, the
update of the manager must be performed. A manager with a version before OSISM 7.0.0 cannot be
longer used if this plugin is set in <code>environments/ansible.cfg</code>.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/ansible.cfg</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[defaults]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stdout_callback = osism.commons.still_alive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>In the inventory, the <code>nova_backend</code> parameter must be added to the host vars of
compute nodes where local storage is used.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">nova_backend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>The SSL certificate file <code>haproxy.pem</code> is now available in a different location in the
<code>haproxy</code> container. Previously it was stored under <code>/etc/haproxy/haproxy.pem</code>. From
now on it is stored under <code>/etc/haproxy/certificates/haproxy.pem</code>. If you have customised
the configuration for the haproxy service or use overlays for this, adjust the locations of
the SSL certificate as required.</p>
</li>
<li>
<p>Due to the upgrade from Fluentd to version 5, some directory names within the container
image for Fluentd have changed. If you have worked with overlay files in the Fluentd service,
check these in advance. Currently we know that <code>/var/run/td-agent</code> is now available as
<code>/var/run/fluentd</code> (check <a href="https://github.com/osism/issues/issues/864" target="_blank" rel="noopener noreferrer">osism/issues#864</a>
for details).  We assume that other directory names have changed similarly.</p>
</li>
<li>
<p>If a Keystone domain with LDAP backend is used, it is important to add the <code>tls_cacertfile</code>
parameter in the <code>[ldap]</code> section of the corresponding domain configuration.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[ldap]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tls_cacertfile = /etc/ssl/certs/ca-certificates.crt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="known-issues">Known issues<a href="#known-issues" class="hash-link" aria-label="Direct link to Known issues" title="Direct link to Known issues">​</a></h3>
<ul>
<li>
<p>If error <code>Couldn&#x27;t fetch the key client.bootstrap-rbd at /var/lib/ceph/bootstrap-rbd/.&quot;</code>
occurs when updating Ceph in task <code>create potentially missing keys (rbd and rbd-mirror)</code>,
create directory <code>/var/lib/ceph/bootstrap-rbd/</code> on the 1st control node used for Ceph.
Use the UID <code>64045</code> and the GID <code>64045</code>. Set <code>0755</code> as permissions.</p>
</li>
<li>
<p>There are currently problems when using a custom CA in combination with Octavia (<a href="https://github.com/osism/issues/issues/890" target="_blank" rel="noopener noreferrer">osism/issues#890</a>).
A bugfix for this will be made available soon.</p>
</li>
<li>
<p>There is another problem when using Octavia in combination with OVN which leads to a leakage
of ports when deleting load balancers (<a href="https://github.com/osism/issues/issues/921" target="_blank" rel="noopener noreferrer">osism/issues#921</a>).
A bugfix for this is also expected to be available soon.</p>
</li>
<li>
<p>The manager service is updated via <code>osism update manager</code>. If this command is not yet
available, you can use <code>osism-update-manager</code> as an alternative.</p>
<div class="language-console codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-console codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">osism: &#x27;update manager&#x27; is not an osism command. See &#x27;osism --help&#x27;.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>With some upgrades we noticed that in certain constellations there were problems with the
OpenStack Octavia service, which could be prevented if the parameter <code>valid_interfaces</code> was added
to the <code>environments/kolla/files/overlays/octavia.conf</code> file (<a href="https://github.com/osism/issues/issues/1021" target="_blank" rel="noopener noreferrer">osism/issues#1021</a>).</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">environments/kolla/files/overlays/octavia.conf</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[certificates]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">valid_interfaces = internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[keystone_authtoken]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">valid_interfaces = internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[glance]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">valid_interfaces = internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[neutron]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">valid_interfaces = internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[nova]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">valid_interfaces = internal</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other--references">Other &amp; References<a href="#other--references" class="hash-link" aria-label="Direct link to Other &amp; References" title="Direct link to Other &amp; References">​</a></h3>
<p>Refstack 2022.11 results:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">======</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Totals</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">======</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ran: 356 tests in 1221.9879 sec.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Passed: 353</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Skipped: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Expected Fail: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Unexpected Success: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - Failed: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Sum of execute time for each test: 715.6658 sec.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>OpenStack 2023.2 press announcement: <a href="https://www.openstack.org/software/openstack-bobcat" target="_blank" rel="noopener noreferrer">https://www.openstack.org/software/openstack-bobcat</a></p>
<p>OpenStack 2023.2 release notes: <a href="https://releases.openstack.org/bobcat/index.html" target="_blank" rel="noopener noreferrer">https://releases.openstack.org/bobcat/index.html</a></p>
<p>Release notes for each OpenStack service:</p>
<ul>
<li>Barbican: <a href="https://docs.openstack.org/releasenotes/barbican/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/barbican/2023.2.html</a></li>
<li>Ceilometer: <a href="https://docs.openstack.org/releasenotes/ceilometer/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/ceilometer/2023.2.html</a></li>
<li>Cinder: <a href="https://docs.openstack.org/releasenotes/cinder/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/cinder/2023.2.html</a></li>
<li>Designate: <a href="https://docs.openstack.org/releasenotes/designate/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/designate/2023.2.html</a></li>
<li>Glance: <a href="https://docs.openstack.org/releasenotes/glance/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/glance/2023.2.html</a></li>
<li>Heat: <a href="https://docs.openstack.org/releasenotes/heat/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/heat/2023.2.html</a></li>
<li>Horizon: <a href="https://docs.openstack.org/releasenotes/horizon/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/horizon/2023.2.html</a></li>
<li>Ironic: <a href="https://docs.openstack.org/releasenotes/ironic/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/ironic/2023.2.html</a></li>
<li>Keystone: <a href="https://docs.openstack.org/releasenotes/keystone/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/keystone/2023.2.html</a></li>
<li>Manila: <a href="https://docs.openstack.org/releasenotes/manila/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/manila/2023.2.html</a></li>
<li>Neutron: <a href="https://docs.openstack.org/releasenotes/neutron/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/neutron/2023.2.html</a></li>
<li>Nova: <a href="https://docs.openstack.org/releasenotes/nova/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/nova/2023.2.html</a></li>
<li>Octavia: <a href="https://docs.openstack.org/releasenotes/octavia/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/octavia/2023.2.html</a></li>
<li>Placement: <a href="https://docs.openstack.org/releasenotes/placement/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/placement/2023.2.html</a></li>
<li>Skyline: <a href="https://docs.openstack.org/releasenotes/skyline-apiserver/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/skyline-apiserver/2023.2.html</a>, <a href="https://docs.openstack.org/releasenotes/skyline-console/2023.2.html" target="_blank" rel="noopener noreferrer">https://docs.openstack.org/releasenotes/skyline-console/2023.2.html</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/osism/osism.github.io/tree/main/docs/release-notes/osism-7.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/release-notes/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Release Notes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/appendix/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Appendix</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#705-20240524" class="table-of-contents__link toc-highlight">7.0.5 (20240524)</a></li><li><a href="#704-20240507" class="table-of-contents__link toc-highlight">7.0.4 (20240507)</a></li><li><a href="#703-20240503" class="table-of-contents__link toc-highlight">7.0.3 (20240503)</a></li><li><a href="#702-20240407" class="table-of-contents__link toc-highlight">7.0.2 (20240407)</a></li><li><a href="#701-20240327" class="table-of-contents__link toc-highlight">7.0.1 (20240327)</a></li><li><a href="#700-20240320" class="table-of-contents__link toc-highlight">7.0.0 (20240320)</a><ul><li><a href="#removals--deprecations" class="table-of-contents__link toc-highlight">Removals &amp; Deprecations</a></li><li><a href="#new-features" class="table-of-contents__link toc-highlight">New features</a></li><li><a href="#upgrade-notes" class="table-of-contents__link toc-highlight">Upgrade notes</a></li><li><a href="#known-issues" class="table-of-contents__link toc-highlight">Known issues</a></li><li><a href="#other--references" class="table-of-contents__link toc-highlight">Other &amp; References</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs">Documentation</a></li><li class="footer__item"><a href="https://github.com/osism" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://zuul.services.betacloud.xyz/t/osism/status" target="_blank" rel="noopener noreferrer" class="footer__link-item">Zuul CI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/users">Users</a></li><li class="footer__item"><a class="footer__link-item" href="/partners">Partner Network</a></li><li class="footer__item"><a class="footer__link-item" href="/support">Support</a></li></ul></div><div class="col footer__col"><div class="footer__title">Comparisons</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/appendix/comparisons#osism-vs-fishos">OSISM vs. FishOS</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/appendix/comparisons#osism-vs-red-hat-openstack-services-on-openshift">OSISM vs. Red Hat OpenStack Services on OpenShift</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/appendix/comparisons#osism-vs-canonical-openstack">OSISM vs. Canonical OpenStack</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/appendix/comparisons#osism-vs-suse-openstack-cloud">OSISM vs. SUSE OpenStack Cloud</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/appendix/comparisons#osism-vs-mirantis-openstack-for-kubernetes">OSISM vs. Mirantis OpenStack for Kubernetes</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/appendix/comparisons#osism-vs-openstack-ansible">OSISM vs. OpenStack Ansible</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/contact-us">Contact Us</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/osism/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/about-us">About Us</a></li><li class="footer__item"><a class="footer__link-item" href="/jobs">Jobs</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/terms">Terms &amp; Conditions</a></li><li class="footer__item"><a class="footer__link-item" href="/legals">Legals</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 OSISM GmbH. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>